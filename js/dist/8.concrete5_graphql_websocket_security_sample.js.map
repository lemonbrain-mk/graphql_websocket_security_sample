{"version":3,"sources":["webpack:///./js/src/components/ForgotPassword.jsx"],"names":["FORGOT_PASSWORD","gql","ForgotPasswordForm","props","state","uName","handleInputChange","bind","handleSubmit","event","target","value","type","checked","name","setState","preventDefault","forgotPassword","variables","username","currentLanguage","answer","log","React","Component","propTypes","PropTypes","func","location","object","string","ForgotPassword","useState","setAnswer","useMutation","onCompleted","loading","error"],"mappings":"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","file":"8.concrete5_graphql_websocket_security_sample.js","sourcesContent":["import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\n\nimport Loading from \"./Loading\";\n// eslint-disable-next-line no-unused-vars\nimport log from \"Log\";\n\nconst FORGOT_PASSWORD = gql`\n    mutation forgotPassword($username: String!, $currentLanguage: String!) {\n        forgotPassword(username: $username, currentLanguage: $currentLanguage)\n    }\n`;\n\nclass ForgotPasswordForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            uName: \"\"\n        };\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value =\n            target.type === \"checkbox\" ? target.checked : target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n\n        this.props.forgotPassword({\n            variables: {\n                username: this.state.uName,\n                currentLanguage: \"DE\"\n            }\n        });\n    }\n    render() {\n        const answer = this.props.answer;\n        log(answer)\n        return (\n            <div className=\"forgotPassword\">\n                {answer === '' && (\n                    <div>\n                        <h4>Anweisungen zum Zurücksetzen gesendet</h4>\n                        <div className=\"ccm-message\"></div>\n                        <div className=\"help-block\">\n                            Wenn diese E-Mail-Adresse einem Konto zugeordnet\n                            ist, wurde eine E-Mail mit Anweisungen zum\n                            Zurücksetzen des Passwortes an diese Adresse\n                            gesendet.{\" \"}\n                        </div>\n                        <a href=\"/\" className=\"btn btn-block btn-primary\">\n                            Zurück{\" \"}\n                        </a>\n                    </div>\n                )}\n                {answer && answer !== '' && (\n                    <div className=\"ccm-system-errors alert alert-danger alert-dismissable\">\n                        <button\n                            type=\"button\"\n                            className=\"close\"\n                            data-dismiss=\"alert\"\n                        >\n                            ×\n                        </button>\n                        <div>{answer}</div>\n                    </div>\n                )}\n                {answer === null && (\n                    <form onSubmit={this.handleSubmit}>\n                        <h4>Forgot Your Password?</h4>\n                        <div className=\"help-block\">\n                            Enter your email address below. We will send you\n                            instructions to reset your password.\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"control-label\" htmlFor=\"uName\">\n                                Email Address\n                            </label>\n                            <input\n                                name=\"uName\"\n                                id=\"uName\"\n                                className=\"form-control\"\n                                autoFocus=\"autofocus\"\n                                value={this.state.uName}\n                                onChange={this.handleInputChange}\n                            />\n                        </div>\n                        <button\n                            name=\"resetPassword\"\n                            className=\"btn btn-primary btn-block\"\n                        >\n                            Reset and Email Password\n                        </button>\n                    </form>\n                )}\n            </div>\n        );\n    }\n}\n\nForgotPasswordForm.propTypes = {\n    forgotPassword: PropTypes.func,\n    location: PropTypes.object,\n    answer: PropTypes.string\n};\n\nexport default function ForgotPassword() {\n    const [answer, setAnswer] = useState(null);\n    const [forgotPassword, { loading, error }] = useMutation(FORGOT_PASSWORD, {\n        onCompleted({ forgotPassword }) {\n            setAnswer(forgotPassword);\n        }\n    });\n    if (loading) return <Loading />;\n    if (error) return <p>An error occurred</p>;\n\n    return (\n        <ForgotPasswordForm forgotPassword={forgotPassword} answer={answer} />\n    );\n}\n"],"sourceRoot":""}